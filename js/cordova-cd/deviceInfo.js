DeviceInfo=function(){function e(e){}function o(e,o,n){void 0!==e.errorCode&&null!==e.errorCode||(e.errorCode=o),void 0!==e.errorText&&null!==e.errorText||(e.errorText=n)}function n(o){null===i?r.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(n){e("getPlatformInfo: onSuccess");var t=n.sdkVersion.split(".");s=t.length>=1&&"1"===t[0]?{webOSVer:1,chipset:n.boardType.split("_")[0]}:t.length>=1&&"2"===t[0]?{webOSVer:2,chipset:n.boardType.split("_")[0]}:t.length>=1&&"3"===t[0]?{webOSVer:3,chipset:n.boardType.split("_")[0]}:t.length>=1&&"4"===t[0]?{webOSVer:4,chipset:n.boardType.split("_")[0]}:{webOSVer:0,chipset:""},i=s.webOSVer,o(s)},onFailure:function(n){e("getPlatformInfo: onFailure"),s={webOSVer:0,chipset:""},o(s)}}):o(s)}var t,r;"object"==typeof window?(cordova.define("cordova/plugin/deviceInfo",function(o,n,i){t=function(){},window.PalmSystem?(e("Window.PalmSystem Available"),r=o("cordova/plugin/webos/service")):r={Request:function(o,n){e(o+" invoked. But I am a dummy because PalmSystem is not available"),"function"==typeof n.onFailure&&n.onFailure({returnValue:!1,errorText:"PalmSystem Not Available. Cordova is not installed?"})}},i.exports=t}),t=cordova.require("cordova/plugin/deviceInfo")):(t=function(e){r=e,r.Request=function(e,o){var n=e+"/"+o.method,t={};!0===o.hasOwnProperty("parameters")&&(t=o.parameters);var i={},s=function(e){console.log("res : "+JSON.stringify(e)),!0===e.payload.returnValue?(i=e.payload,o.onSuccess(i)):(i.returnValue=!1,i.errorCode=e.payload.errorCode,i.errorText=e.payload.errorText,o.onFailure(i))};r&&r.call(n,t,s)}},module.exports=t);var i=null,s={};return t.EddystoneFrame={UUID:"uid",URL:"url"},t.prototype.getNetworkInfo=function(o,n){e("getNetworkInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getNetworkInfo",parameters:{},onSuccess:function(e){"function"==typeof o&&(delete e.returnValue,o(e))},onFailure:function(t){e("getNetworkInfo: onFailure"),-1!==t.errorText.indexOf("Unknown method")?r.Request("luna://com.palm.connectionmanager",{method:"getstatus",parameters:{},onSuccess:function(n){e("getNetworkInfo: onSuccess"),delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("getNetworkInfo: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}):(delete t.returnValue,"function"==typeof n&&n(t))}}),e("DeviceInfo.getNetworkInfo Done")},t.prototype.setNetworkInfo=function(o,n,t){e("setNetworkInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setNetworkInfo",parameters:t,onSuccess:function(n){e("setNetworkInfo: onSuccess"),"function"==typeof o&&o()},onFailure:function(o){e("setNetworkInfo: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.setNetworkInfo Done")},t.prototype.getBeaconInfo=function(o,n){e("getBeaconInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getBeaconInfo",parameters:{},onSuccess:function(n){e("getBeaconInfo: onSuccess"),delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("getBeaconInfo: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.getBeaconInfo Done")},t.prototype.setBeaconInfo=function(n,t,i){e("setBeaconInfo: ");if(!0===i.enabled&&(!1===function(e){return void 0!==e&&null!==e&&32==e.length&&null!==new RegExp(/^[a-fA-F0-9]*$/g).exec(e)}(i.uuid)||isNaN(i.major)||i.major<0||i.major>65535||isNaN(i.minor)||i.minor<0||i.minor>65535)){if(e("setBeaconInfo: options are invalid."),"function"==typeof t){var s={};o(s,"DSBI","DeviceInfo.setBeaconInfo. Invalid options."),t(s)}}else r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setBeaconInfo",parameters:i,onSuccess:function(o){e("setBeaconInfo: onSuccess"),"function"==typeof n&&n()},onFailure:function(o){e("setBeaconInfo: onFailure"),delete o.returnValue,"function"==typeof t&&t(o)}}),e("DeviceInfo.setBeaconInfo Done")},t.prototype.getSoftApInfo=function(o,n){e("getSoftApInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getSoftApInfo",parameters:{},onSuccess:function(n){e("getSoftApInfo: onSuccess"),delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("getSoftApInfo: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.getSoftApInfo Done")},t.prototype.setSoftApInfo=function(n,t,i){if(e("setSoftApInfo: "),!0===i.enabled&&(null!==i.ssid&&i.ssid.length>32||null!==i.securityKey&&6!==i.securityKey.length)){if(e("setSoftApInfo: options are invalid."),"function"==typeof t){var s={};o(s,"DSSI","DeviceInfo.setSoftApInfo. Invalid options."),t(s)}}else r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setSoftApInfo",parameters:i,onSuccess:function(o){e("setSoftApInfo: onSuccess"),"function"==typeof n&&n()},onFailure:function(o){e("setSoftApInfo: onFailure"),delete o.returnValue,"function"==typeof t&&t(o)}}),e("DeviceInfo.setSoftApInfo Done")},t.prototype.getWifiList=function(o,n){e("getWifiList: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getWifiList",parameters:{},onSuccess:function(n){e("getWifiList: onSuccess"),delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("getWifiList: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.getWifiList Done")},t.prototype.connectWifi=function(o,n,t){e("connectWifi: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"connectWifi",parameters:t,onSuccess:function(n){e("connectWifi: onSuccess"),"function"==typeof o&&o()},onFailure:function(o){e("connectWifi: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.connectWifi Done")},t.prototype.startWps=function(o,n,t){e("startWps: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"startWps",parameters:t,onSuccess:function(n){e("startWps: onSuccess"),delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("startWps: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.startWps Done")},t.prototype.stopWps=function(o,n){e("stopWps: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"stopWps",parameters:{},onSuccess:function(n){e("stopWps: onSuccess"),"function"==typeof o&&o()},onFailure:function(o){e("stopWPS: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.stopWps Done")},t.prototype.getNetworkMacInfo=function(o,t){e("getNetworkMacInfo: "),n(function(n){4===n.webOSVer||n.webOSVer>4?r.Request("luna://com.webos.service.commercial.scapadapter/deviceinfo",{method:"getNetworkMacInfo",parameters:{},onSuccess:function(n){e("getNetworkMacInfo: onSuccess"),delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("getNetworkMacInfo: onFailure"),delete o.returnValue,"function"==typeof t&&t(o)}}):r.Request("luna://com.webos.service.tv.signage",{method:"getinfo",parameters:{},onSuccess:function(n){e("getNetworkMacInfo: onSuccess"),delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("getNetworkMacInfo: onFailure"),delete o.returnValue,"function"==typeof t&&t(o)}})}),e("DeviceInfo.getNetworkMacInfo Done")},t.prototype.getPlatformInfo=function(o,n){e("getPlatformInfo: "),r.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","serialNumber","firmwareVersion","hardwareVersion","sdkVersion"]},onSuccess:function(n){e("getPlatformInfo: onSuccess"),n.manufacturer="LGE",n.sdkVersion="1.5.6",delete n.returnValue,"function"==typeof o&&o(n)},onFailure:function(o){e("getPlatformInfo: onFailure"),delete o.returnValue,"function"==typeof n&&n(o)}}),e("DeviceInfo.getPlatformInfo Done")},t.prototype.getSystemUsageInfo=function(o,n,t){e("getSystemUsageInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"getSystemUsageInfo",parameters:{cpus:t.cpus,memory:t.memory},onSuccess:function(e){if(!0===e.returnValue){var t={};void 0!==e.memory&&(t.memory=e.memory),void 0!==e.cpus&&(t.cpus=e.cpus),"function"==typeof o&&o(t)}else"function"==typeof n&&n({errorCode:e.errorCode,errorText:e.errorText})},onFailure:function(e){"function"==typeof n&&n({errorCode:e.errorCode,errorText:e.errorText})}}),e("DeviceInfo.getSystemUsageInfo Done")},t.prototype.setProxyInfo=function(n,t,i){var s={};if(e("setProxyInfo: "+i.enabled),"boolean"!=typeof i.enabled&&"function"==typeof t){var a={};return o(a,"DSPI","DeviceInfo.setProxyInfo returns failure. enabled is not boolean."),void t(a)}if(0==i.enabled)s.proxyEnable="off","string"==typeof i.ipAddress&&i.ipAddress.length<=512&&(s.proxySingleAddress=i.ipAddress),!1===isNaN(i.port)&&(s.proxySinglePort=i.port.toString());else{if(s.proxyEnable="on",("string"!=typeof i.ipAddress||i.ipAddress.length>512)&&"function"==typeof t){var a={};return o(a,"DSPI","DeviceInfo.setProxyInfo returns failure. ipAddress is not valid."),void t(a)}if(isNaN(i.port)&&"function"==typeof t){var a={};return o(a,"DSPI","DeviceInfo.setProxyInfo returns failure. port is not number."),void t(a)}s.proxySingleAddress=i.ipAddress,s.proxySinglePort=i.port.toString()}"string"==typeof i.userName&&(s.proxySingleUsername=i.userName),"string"==typeof i.password&&(s.proxySinglePassword=i.password),e("proxyInfo : "+JSON.stringify(s)),r.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:s},onSuccess:function(o){e("setProxyInfo: On Success"),!0===o.returnValue&&"function"==typeof n&&n()},onFailure:function(n){e("setSoundOut: On Failure"),delete n.returnValue,"function"==typeof t&&(o(n,"DSPI","DeviceInfo.setProxyInfo returns failure."),t(n))}}),e("DeviceInfo.setProxyInfo Done")},t.prototype.getProxyInfo=function(n,t){e("getProxyInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["proxyEnable","proxySingleAddress","proxySinglePort"]},onSuccess:function(o){if(e("getProxyInfo: On Success"),!0===o.returnValue){var t={};t.enabled="on"===o.settings.proxyEnable,t.ipAddress=o.settings.proxySingleAddress,t.port=parseInt(o.settings.proxySinglePort),"function"==typeof n&&n(t)}},onFailure:function(n){e("getProxyInfo: On Failure"),delete n.returnValue,"function"==typeof t&&(o(n,"DGPI","DeviceInfo.getProxyInfo returns failure."),t(n))}}),e("DeviceInfo.getProxyInfo Done")},t.prototype.setiBeaconInfo=function(n,t,i){var s={};if((null===i.enabled||void 0===i.enabled||"boolean"!=typeof i.enabled)&&"function"==typeof t){var a={};return o(a,"DSIB","DeviceInfo.setiBeaconInfo returns failure. enabled is required."),t(a),void e("DeviceInfo.setiBeaconInfo invalid ")}if(0==i.enabled)s.beaconMode="off";else{if((null===i.uuid||void 0===i.uuid||!1===function(e){return void 0!==e&&null!==e&&32==e.length&&null!==new RegExp(/^[a-fA-F0-9]*$/g).exec(e)}(i.uuid))&&"function"==typeof t){var a={};return o(a,"DSIB","DeviceInfo.setiBeaconInfo returns failure. uuid is not valid."),t(a),void e("DeviceInfo.setiBeaconInfo invalid ")}if((null===i.major||void 0===i.major||isNaN(i.major)||i.major<0||i.major>65535||null===i.minor||void 0===i.minor||isNaN(i.minor)||i.minor<0||i.minor>65535)&&"function"==typeof t){var a={};return o(a,"DSIB","DeviceInfo.setiBeaconInfo returns failure. major and minor are not valid."),t(a),void e("DeviceInfo.setiBeaconInfo invalid ")}s.beaconMode="on",s.beaconType="iBeacon",s.iBeaconUuid=i.uuid,s.iBeaconMajor=i.major.toString(),s.iBeaconMinor=i.minor.toString()}e("iBeaconInfo: "+JSON.stringify(s)),r.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:s},onSuccess:function(o){e("setiBeaconInfo: On Success"),!0===o.returnValue&&r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"notifyUpdatingBeaconInfo",parameters:{},onSuccess:function(o){e("notifyUpdatingBeaconInfo: onSuccess"),delete o.returnValue,"function"==typeof n&&n(o)},onFailure:function(o){e("notifyUpdatingBeaconInfo: onFailure"),delete o.returnValue,"function"==typeof t&&t(o)}})},onFailure:function(n){e("setiBeaconInfo: On Failure"),delete n.returnValue,"function"==typeof t&&(o(n,"DSIB","DeviceInfo.setiBeaconInfo returns failure."),t(n))}}),e("DeviceInfo.setiBeaconInfo Done")},t.prototype.getiBeaconInfo=function(n,t){e("getiBeaconInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["beaconMode","iBeaconUuid","iBeaconMajor","iBeaconMinor"]},onSuccess:function(o){if(e("getiBeaconInfo: On Success"),!0===o.returnValue){var t={};t.enabled="on"===o.settings.beaconMode,t.uuid=o.settings.iBeaconUuid,t.major=parseInt(o.settings.iBeaconMajor),t.minor=parseInt(o.settings.iBeaconMinor),"function"==typeof n&&n(t)}},onFailure:function(n){e("getiBeaconInfo: On Failure"),delete n.returnValue,"function"==typeof t&&(o(n,"DGIB","DeviceInfo.getiBeaconInfo returns failure."),t(n))}}),e("DeviceInfo.getiBeaconInfo Done")},t.prototype.setEddystoneInfo=function(n,i,s){var a={};if(e("setEddystoneInfo: "+s.enabled),(null===s.enabled||void 0===s.enabled||"boolean"!=typeof s.enabled)&&"function"==typeof i){var c={};return o(c,"DSEI","DeviceInfo.setEddystoneInfo returns failure. enabled is required."),i(c),void e("DeviceInfo.setEddystoneInfo invalid ")}if(!1===s.enabled)a.beaconMode="off";else if(a.beaconMode="on",a.beaconType="eddystone",s.frame===t.EddystoneFrame.UUID){if(!1===function(e){return void 0!==e&&null!==e&&32==e.length&&null!==new RegExp(/^[a-fA-F0-9]*$/g).exec(e)}(s.frameData)&&"function"==typeof i){var c={};return o(c,"DSEI","DeviceInfo.setEddystoneInfo returns failure. frameData is not valid."),i(c),void e("DeviceInfo.setEddystoneInfo invalid ")}a.eddyStoneFrame=s.frame,a.eddyStoneUuid=s.frameData}else{if(s.frame!==t.EddystoneFrame.URL){var c={};return o(c,"DSEI","DeviceInfo.setEddystoneInfo returns failure. frame is not valid."),i(c),void e("DeviceInfo.setEddystoneInfo invalid ")}if((null===s.frameData||void 0===s.frameData||"string"!=typeof s.frameData||s.frameData.search("://")<0||"HTTP"!==s.frameData.substring(0,4).toUpperCase())&&"function"==typeof i){var c={};return o(c,"DSEI","DeviceInfo.setEddystoneInfo returns failure. frameData is not valid."),i(c),void e("DeviceInfo.setEddystoneInfo invalid ")}a.eddyStoneFrame=s.frame,a.eddyStoneUrlPrefix=s.frameData.substring(0,s.frameData.search("://")),"WWW"===s.frameData.substring(s.frameData.search("://")+3,3).toUpperCase()&&(a.eddyStoneUrlPrefix=a.eddyStoneUrlPrefix+"Ex");var f=0;if("HTTP"===a.eddyStoneUrlPrefix.toUpperCase()?f=7:"HTTPEX"===a.eddyStoneUrlPrefix.toUpperCase()?f=11:"HTTPS"===a.eddyStoneUrlPrefix.toUpperCase()?f=8:"HTTPSEX"===a.eddyStoneUrlPrefix.toUpperCase()&&(f=12),s.frameData.length-f>17){var c={};return o(c,"DSEI","DeviceInfo.setEddystoneInfo returns failure. url size is over."),i(c),void e("DeviceInfo.setEddystoneInfo invalid ")}a.eddyStoneUrl=s.frameData.substring(f,s.frameData.length),a.eddyStoneUrlExCode="noneValue"}e("eddystoneInfo : "+JSON.stringify(a)),r.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:a},onSuccess:function(o){e("setEddystoneInfo: On Success"),!0===o.returnValue&&r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"notifyUpdatingBeaconInfo",parameters:{},onSuccess:function(o){e("notifyUpdatingBeaconInfo: onSuccess"),delete o.returnValue,"function"==typeof n&&n(o)},onFailure:function(o){e("notifyUpdatingBeaconInfo: onFailure"),delete o.returnValue,"function"==typeof i&&i(o)}})},onFailure:function(n){e("setEddystoneInfo: On Failure"),delete n.returnValue,"function"==typeof i&&(o(n,"DSEI","DeviceInfo.setEddystoneInfo returns failure."),i(n))}})},t.prototype.getEddystoneInfo=function(n,i){e("getEddystoneInfo: "),r.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["beaconMode","eddyStoneFrame","eddyStoneUuid","eddyStoneUrlPrefix","eddyStoneUrl","eddyStoneUrlExCode"]},onSuccess:function(o){if(e("getEddystoneInfo: On Success"),!0===o.returnValue){var r={};r.enabled="on"===o.settings.beaconMode,r.frame=o.settings.eddyStoneFrame,o.settings.eddyStoneFrame===t.EddystoneFrame.UUID?r.frameData=o.settings.eddyStoneUuid:"http"===o.settings.eddyStoneUrlPrefix?r.frameData="http://"+o.settings.eddyStoneUrl:"httpEx"===o.settings.eddyStoneUrlPrefix?r.frameData="http://www."+o.settings.eddyStoneUrl:"https"===o.settings.eddyStoneUrlPrefix?r.frameData="https://"+o.settings.eddyStoneUrl:r.frameData="https://www."+o.settings.eddyStoneUrl,"function"==typeof n&&n(r)}},onFailure:function(n){e("getEddystoneInfo: On Failure"),delete n.returnValue,"function"==typeof i&&(o(n,"DGEI","DeviceInfo.getEddystoneInfo returns failure."),i(n))}}),e("DeviceInfo.getEddystoneInfo Done")},t.prototype.getBlockedPortList=function(e,n){r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getBlockedPortList",parameters:{},onSuccess:function(o){delete o.returnValue,"function"==typeof e&&e(o)},onFailure:function(e){delete e.returnValue,"function"==typeof n&&(o(e,"DGEI","DeviceInfo.getBlockedPortList returns failure."),n(e))}})},t.prototype.addBlockedPortList=function(e,o,n){r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"addBlockedPortList",parameters:n,onSuccess:function(o){"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof o&&o(e)}})},t.prototype.deleteBlockedPortList=function(e,o,n){r.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"deleteBlockedPortList",parameters:n,onSuccess:function(o){"function"==typeof e&&e()},onFailure:function(e){delete e.returnValue,"function"==typeof o&&o(e)}})},t}();