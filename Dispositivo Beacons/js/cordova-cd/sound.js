cordova.define("cordova/plugin/sound",function(e,t,n){function o(e){}function u(e,t,n){void 0!==e.errorCode&&null!==e.errorCode||(e.errorCode=t),void 0!==e.errorText&&null!==e.errorText||(e.errorText=n)}function r(e){null===i?s.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(t){o("getPlatformInfo: onSuccess"),o("version : "+t.sdkVersion);var n=t.sdkVersion.split(".");c=n.length>=1&&"1"===n[0]?{webOSVer:1,chipset:t.boardType.split("_")[0]}:n.length>=1&&"2"===n[0]?{webOSVer:2,chipset:t.boardType.split("_")[0]}:n.length>=1&&"3"===n[0]?{webOSVer:3,chipset:t.boardType.split("_")[0]}:n.length>=1&&"4"===n[0]?{webOSVer:4,chipset:t.boardType.split("_")[0]}:{webOSVer:0,chipset:""},i=c.webOSVer,e(c)},onFailure:function(t){o("getPlatformInfo: onFailure"),c={webOSVer:0,chipset:""},e(c)}}):e(c)}var s;window.PalmSystem?(o("Window.PalmSystem Available"),s=e("cordova/plugin/webos/service")):s={Request:function(e,t){o(e+" invoked. But I am a dummy because PalmSystem is not available"),"function"==typeof t.onFailure&&t.onFailure({returnValue:!1,errorText:"PalmSystem Not Available. Cordova is not installed?"})}};var a=function(){},i=null,c={};a.SoundMode={Standard:"standard",Cinema:"movie",ClearVoice:"news",Sports:"sports",Music:"music",Game:"game"},a.SpeakerType={SignageSpeaker:"tv_speaker",LGSoundSync:"bt_soundbar"},a.prototype.getSoundStatus=function(e,t){o("getSoundStatus: "),r(function(n){4===n.webOSVer||n.webOSVer>4?s.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"getSoundStatus",onSuccess:function(t){o("getSoundStatus: On Success"),!0===t.returnValue&&(delete t.returnValue,e(t))},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(u(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}}):s.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(n){if(!0===n.returnValue){var r=n.version,a="";a="1"===r[0]&&"5"===r[2]?"com.webos.surfacemanager.supportCommerSoundSetting":"tv.model.supportCommerSoundSetting",s.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:[a]},onSuccess:function(n){if(o("getConfigs: On Success"),!0===n.returnValue){var r=n.configs[a];s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["extSpkVolumeControl"]},onSuccess:function(n){if(!0===n.returnValue){var a=n.settings.extSpkVolumeControl;!0===r||!1===r&&"1"===a?s.Request("luna://com.webos.audio/",{method:"getVolume",onSuccess:function(t){if(o("getSoundStatus: On Success"),!0===t.returnValue){var n={};n.level=t.volume,n.muted=t.muted,s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["enableSpeaker"]},onSuccess:function(t){o("getSoundStatus: On Success 2"),!0===t.returnValue&&(n.externalSpeaker="on"===t.settings.enableSpeaker,"function"==typeof e&&e(n))},onFailure:function(t){"function"==typeof e&&e(n)}})}},onFailure:function(e){o("getSoundStatus: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}}):(delete n.returnValue,"function"==typeof t&&(u(n,"SGSS","unsupported feature"),t(n)))}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(u(e,"SGSS","Sound.getSoundStatus returns failure"),t(e))}})}},onFailure:function(e){o("getConfigs: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(u(e,"SGSS","Sound.getSoundStatus returns failure."),t(e))}})}),o("Sound.getSoundStatus Done")},a.prototype.setVolumeLevel=function(e,t,n){if(o("setVolumeLevel: "+JSON.stringify(n)),"number"!=typeof n.level||isNaN(n.level)||n.level<0||n.level>100){if("function"==typeof t){var a={};u(a,"SSVL","Sound.setVolumeLevel returns failure. out of range or invalid parameter type."),t(a)}}else r(function(r){4===r.webOSVer||r.webOSVer>4?s.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"setVolumeLevel",parameters:{level:n.level,volOsdEnabled:n.volOsdEnabled},onSuccess:function(t){o("setVolumeLevel success"),delete t.returnValue,"function"==typeof e&&e(t)},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(u(e,"SSVL","Sound.setVolumeLevel returns failure."),t(e))}}):s.Request("luna://com.webos.service.commercial.signage.storageservice/sound/",{method:"setVolumeLevel",parameters:n,onSuccess:function(t){o("setVolumeLevel success"),e()},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(u(e,"SSVL","Sound.setVolumeLevel returns failure."),t(e))}})}),o("Sound.setVolumeLevel Done")},a.prototype.setExternalSpeaker=function(e,t,n){if(o("setExternalSpeaker: "+JSON.stringify(n)),"boolean"==typeof n.externalSpeaker){var r=null;switch(n.externalSpeaker){case!0:r="on";break;case!1:r="off"}s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{enableSpeaker:r}},onSuccess:function(){o("setExternalSpeaker: On Success"),"function"==typeof e&&e()},onFailure:function(e){o("setExternalSpeaker: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SSES","Sound.setExternalSpeaker returns failure."),t(e))}}),o("Sound.setExternalSpeaker Done")}else if("function"==typeof t){var a={};u(a,"SSVL","Sound.setExternalSpeaker returns failure. out of range or invalid parameter type."),t(a)}},a.prototype.setMuted=function(e,t,n){if(o("setMuted: "+JSON.stringify(n)),"boolean"==typeof n.muted)r(function(r){4===r.webOSVer||r.webOSVer>4?s.Request("luna://com.webos.service.commercial.scapadapter/sound",{method:"setMuted",parameters:{muted:n.muted},onSuccess:function(t){o("setMuted: On Success"),!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){o("setMuted: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SSM","Sound.setMuted returns failure."),t(e))}}):s.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"version",onSuccess:function(r){var a=r.version,i="";i="1"===a[0]&&"5"===a[2]?"com.webos.surfacemanager.supportCommerSoundSetting":"tv.model.supportCommerSoundSetting",s.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:[i]},onSuccess:function(r){if(o("getConfigs: On Success"),!0===r.returnValue){var a=r.configs[i];s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["extSpkVolumeControl"]},onSuccess:function(r){if(!0===r.returnValue){var i=r.settings.extSpkVolumeControl;if(!0!==a&&(!1!==a||"1"!==i))return delete r.returnValue,void("function"==typeof t&&(u(r,"SSM","unsupported feature"),t(r)));s.Request("luna://com.webos.audio/",{method:"setMuted",parameters:{muted:n.muted},onSuccess:function(t){o("setMuted: On Success"),!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){o("setMuted: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SSM","Sound.setMuted returns failure."),t(e))}})}},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(u(e,"SSM","Sound.setMuted returns failure"),t(e))}})}},onFailure:function(e){o("getConfigs: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SSM","Sound.setMuted returns failure"),t(e))}})},onFailure:function(e){delete e.returnValue,"function"==typeof t&&(u(e,"SSM","Sound.setMuted returns failure."),t(e))}})}),o("Sound.setMuted Done");else if("function"==typeof t){var a={};u(a,"SSM","Sound.setMuted returns failure. out of range or invalid parameter type."),t(a)}},a.prototype.setSoundMode=function(e,t,n){var r=null;switch(n.mode){case a.SoundMode.Standard:r="standard";break;case a.SoundMode.Cinema:r="movie";break;case a.SoundMode.ClearVoice:r="news";break;case a.SoundMode.Sports:r="sports";break;case a.SoundMode.Music:r="music";break;case a.SoundMode.Game:r="game"}if((n.balance<-50||n.balance>50)&&isNumber(n.balance)){var i={};u(i,"SSSM","Sound.setSoundMode returns failure. Out of range."),t(i),o("Sound.setSoundMode invalid range")}if(o("setSoundMode: "+r),null===r&&"function"==typeof t){var i={};return u(i,"SSSM","Sound.setSoundMode returns failure. command was not defined."),t(i),void o("Sound.setSoundMode invalid ")}s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"sound",settings:{soundMode:r,audioBalance:n.balance}},onSuccess:function(t){o("setSoundMode: On Success"),!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){o("setSoundMode: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SSSM","Sound.setSoundMode returns failure."),t(e))}}),o("Sound.setSoundMode Done")},a.prototype.getSoundMode=function(e,t){o("getSoundMode: "),s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"sound",keys:["soundMode","audioBalance"]},onSuccess:function(t){if(o("getSoundMode: On Success"),!0===t.returnValue){var n={};n.mode=t.settings.soundMode,n.balance=t.settings.audioBalance,"function"==typeof e&&e(n)}},onFailure:function(e){o("getSoundMode: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SGSM","Sound.getSoundMode returns failure."),t(e))}}),o("Sound.getSoundMode Done")},a.prototype.setSoundOut=function(e,t,n){r(function(r){if(3!==r.webOSVer){var i={};return u(i,"SSSO","Sound.setSoundOut returns failure. Only webOS 3.0 support setSoundOut API."),t(i),void o("not support setSoundOut")}s.Request("luna://com.webos.service.config/",{method:"getConfigs",parameters:{configNames:["system.supportBluetoothFeatures"]},onSuccess:function(r){if(o("getConfigs: On Success"),!0===r.returnValue){if(-1===r.configs["system.supportBluetoothFeatures"].indexOf("btsound")&&n.speakerType===a.SpeakerType.LGSoundSync){var r={};return u(r,"SSSO","Sound.setSoundOut returns failure. bluetooth soundsync is not supported."),void t(r)}var i=null;switch(n.speakerType){case a.SpeakerType.SignageSpeaker:i="tv_speaker";break;case a.SpeakerType.LGSoundSync:i="bt_soundbar"}if(o("setSoundOut: "+i),null===i&&"function"==typeof t){var r={};return u(r,"SSSO","Sound.setSoundOut returns failure. command was not defined."),t(r),void o("Sound.setSoundOut invalid ")}s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"sound",settings:{soundOutput:i}},onSuccess:function(t){o("setSoundOut: On Success"),!0===t.returnValue&&"function"==typeof e&&e()},onFailure:function(e){o("setSoundOut: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SSSO","Sound.setSoundOut returns failure."),t(e))}}),o("Sound.setSoundOut Done")}},onFailure:function(e){o("getConfigs: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SSSO","unsupported feature"),t(e))}})})},a.prototype.getSoundOut=function(e,t){r(function(n){if(3!==n.webOSVer){var r={};return u(r,"SGSO","Sound.getSoundOut returns failure. Only webOS 3.0 support getSoundOut API."),t(r),void o("not support getSoundOut")}o("getSoundOut: "),s.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"sound",keys:["soundOutput"]},onSuccess:function(t){if(o("getSoundOut: On Success"),!0===t.returnValue){var n={};n.speakerType=t.settings.soundOutput,"function"==typeof e&&e(n)}},onFailure:function(e){o("getSoundOut: On Failure"),delete e.returnValue,"function"==typeof t&&(u(e,"SGSO","Sound.getSoundOut returns failure."),t(e))}}),o("Sound.getSoundOut Done")})},n.exports=a}),Sound=cordova.require("cordova/plugin/sound");